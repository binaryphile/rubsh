unset -v __false __true __nil

__false=0
__true=2
__nil=4

__class_of () {
  local -n ___object=$1

  case $1 in
    "$__nil"    ) __=$NilClass          ;;
    "$__false"  ) __=$FalseClass        ;;
    "$__true"   ) __=$TrueClass         ;;
    *           ) __=${___object[class]};;
  esac
}

# vim: ft=sh
